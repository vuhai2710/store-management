# ============================================
# APPLICATION CONFIGURATION - EXAMPLE FILE
# ============================================
# 
# üöÄ C√ÅCH S·ª¨ D·ª§NG ƒê∆†N GI·∫¢N:
# 1. T·∫°o file application.yaml v√† copy file n√†y sang
# 
# 2. CH·ªà C·∫¶N THAY ƒê·ªîI M·ªòT TH·ª® DUY NH·∫§T:
#    - M·ªü file application.yaml
#    - T√¨m d√≤ng: password: 
#    - ƒêi·ªÅn MySQL password c·ªßa b·∫°n v√†o sau d·∫•u hai ch·∫•m
#    - V√≠ d·ª•: password: your_mysql_password
# ============================================

server:
  port: 8080

spring:
  application:
    name: store-management

  # ============================================
  # DATABASE CONFIGURATION
  # ============================================
  datasource:
    url: jdbc:mysql://localhost:3306/store_management?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC
    username: root
    password: # ‚¨ÖÔ∏è ƒêI·ªÄN MySQL PASSWORD C·ª¶A B·∫†N V√ÄO ƒê√ÇY (v√≠ d·ª•: password: mypassword123)
    driver-class-name: com.mysql.cj.jdbc.Driver

  jpa:
    hibernate:
      ddl-auto: none
    show-sql: true
    properties:
      hibernate:
        dialect: org.hibernate.dialect.MySQLDialect
        format_sql: true
    database-platform: org.hibernate.dialect.MySQL8Dialect

  # ============================================
  # FLYWAY DATABASE MIGRATION
  # ============================================
  flyway:
    enabled: true
    baseline-on-migrate: true
    locations: classpath:db/migration
    baseline-version: 0
    validate-on-migrate: false

  # ============================================
  # FILE UPLOAD CONFIGURATION
  # ============================================
  servlet:
    multipart:
      max-file-size: 10MB
      max-request-size: 10MB

  # ============================================
  # EMAIL CONFIGURATION (Optional - ch·ªâ c·∫ßn n·∫øu d√πng t√≠nh nƒÉng g·ª≠i email)
  # ============================================
  # Setup Instructions:
  # 1. Go to https://myaccount.google.com/security
  # 2. Enable "2-Step Verification"
  # 3. Create "App Password" at https://myaccount.google.com/apppasswords
  # 4. Use App Password (not your regular password)
  # 
  # N·∫øu kh√¥ng d√πng email, c√≥ th·ªÉ b·ªè qua ho·∫∑c ƒë·ªÉ gi√° tr·ªã m·∫∑c ƒë·ªãnh
  mail:
    host: smtp.gmail.com
    port: 587
    username: ${EMAIL_USERNAME:}
    password: ${EMAIL_PASSWORD:}
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true
            required: true
          connectiontimeout: 5000
          timeout: 5000
          writetimeout: 5000

# ============================================
# FILE STORAGE
# ============================================
file:
  upload:
    directory: uploads

# ============================================
# JWT CONFIGURATION
# ============================================
jwt:
  secret: dev-secret-key-for-store-management-min-32-chars-change-in-production
  signerKey: "dev-signer-key-base64-encoded-for-store-management-change-in-production-min-32-chars"
  expiration: 86400000 # 24 hours in milliseconds

# ============================================
# LOGGING
# ============================================
logging:
  level:
    com.storemanagement: DEBUG
    org.springframework.security: INFO
    org.springframework.web: INFO

# ============================================
# PAYOS PAYMENT GATEWAY (Optional - ch·ªâ c·∫ßn n·∫øu d√πng thanh to√°n PayOS)
# ============================================
# Setup Instructions:
# 1. Register at https://my.payos.vn
# 2. Get Client ID, API Key, Checksum Key from PayOS dashboard
# 3. Setup ngrok for webhook: ngrok http 8080
# 4. Update webhook URL in PayOS dashboard
payos:
  client-id: "${PAYOS_CLIENT_ID:}" # ƒêi·ªÅn Client ID t·ª´ PayOS dashboard
  api-key: "${PAYOS_API_KEY:}" # ƒêi·ªÅn API Key t·ª´ PayOS dashboard
  checksum-key: "${PAYOS_CHECKSUM_KEY:}" # ƒêi·ªÅn Checksum Key t·ª´ PayOS dashboard
  webhook-url: "${PAYOS_WEBHOOK_URL:https://your-ngrok-url.ngrok.io/api/v1/payments/payos/webhook}" # ƒêi·ªÅn webhook URL (c·∫ßn HTTPS)
  return-url: "http://localhost:3000/payment/success"
  cancel-url: "http://localhost:3000/payment/cancel"
  environment: "sandbox" # Options: sandbox, production
  base-url: "https://api-merchant.payos.vn"

# ============================================
# GHN (Giao H√†ng Nhanh) SHIPPING (Optional - ch·ªâ c·∫ßn n·∫øu d√πng v·∫≠n chuy·ªÉn GHN)
# ============================================
# Setup Instructions:
# 1. Register at https://khachhang.ghn.vn
# 2. Get Token API from Profile ‚Üí Token API
# 3. Get Shop ID from Shop Management
# 4. Setup ngrok for webhook: ngrok http 8080
# 5. Update webhook URL in GHN dashboard
ghn:
  token: "${GHN_TOKEN:}" # ƒêi·ªÅn Token API t·ª´ GHN dashboard
  shop-id: ${GHN_SHOP_ID:0} # ƒêi·ªÅn Shop ID t·ª´ GHN dashboard
  base-url: "https://dev-online-gateway.ghn.vn"
  webhook-url: "${GHN_WEBHOOK_URL:https://your-ngrok-url.ngrok.io/api/v1/ghn/webhook}" # ƒêi·ªÅn webhook URL (c·∫ßn HTTPS)
  enabled: false # ƒê·∫∑t true khi ƒë√£ c√≥ token v√† mu·ªën s·ª≠ d·ª•ng GHN
  environment: "sandbox" # Options: sandbox, production

